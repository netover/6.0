============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: D:\Python\GITHUB\resync\6.0-new1
plugins: anyio-4.11.0, hypothesis-6.140.2, locust-2.41.2, asyncio-1.2.0, benchmark-5.1.0, cov-7.0.0, mock-3.15.1, timeout-2.4.0, xdist-3.8.0, respx-0.22.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 45 items

resync\tests\test_golden_path_planner.py E.............................. [ 68%]
..............                                                           [100%]

=================================== ERRORS ====================================
____________ ERROR at setup of test_router_resets_transient_state _____________

name = 'langgraph'

    def __getattr__(name):
        """PEP 562 lazy imports for resync package."""
        if name in _LAZY_MODULES:
            module_name, attr_name = _LAZY_MODULES[name]
    
            if name not in _LOADED_MODULES:
                try:
                    module = __import__(
                        module_name, fromlist=[attr_name] if attr_name else []
                    )
                    _LOADED_MODULES[name] = (
                        module if attr_name is None else getattr(module, attr_name)
                    )
                except ImportError:
                    raise ImportError(f"Failed to lazy import {name}") from None
    
            return _LOADED_MODULES[name]
    
>       raise AttributeError(f"module '{__name__}' has no attribute '{name}'") from None
E       AttributeError: module 'resync' has no attribute 'langgraph'

resync\__init__.py:40: AttributeError

The above exception was the direct cause of the following exception:

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x000002362A507CE0>

    @pytest.fixture(autouse=True)
    def mock_io_bounds(monkeypatch):
        """Bypass expensive models (SentenceTransformer) and LLM endpoints."""
        # We patch at the module level where they are used to prevent 8s model loading.
>       monkeypatch.setattr(
            "resync.core.langgraph.agent_graph.async_init_router_cache",
            AsyncMock(return_value=None)
        )

resync\tests\test_golden_path_planner.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
C:\Users\User\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\monkeypatch.py:102: in derive_importpath
    target = resolve(module)
             ^^^^^^^^^^^^^^^
C:\Users\User\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\monkeypatch.py:84: in resolve
    found = annotated_getattr(found, part, used)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

obj = <module 'resync' from 'D:\\Python\\GITHUB\\resync\\6.0-new1\\resync\\__init__.py'>
name = 'langgraph', ann = 'resync.core.langgraph'

    def annotated_getattr(obj: object, name: str, ann: str) -> object:
        try:
            obj = getattr(obj, name)
        except AttributeError as e:
>           raise AttributeError(
                f"{type(obj).__name__!r} object at {ann} has no attribute {name!r}"
            ) from e
E           AttributeError: 'module' object at resync.core.langgraph has no attribute 'langgraph'

C:\Users\User\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\monkeypatch.py:92: AttributeError
---------------------------- Captured stdout setup ----------------------------
2026-02-21 09:48:32 [warning  ] langfuse_disabled reason=ModuleNotFoundError
2026-02-21 09:48:32 [warning  ] langfuse_prompt_manager_disabled reason=ModuleNotFoundError
=========================== short test summary info ===========================
ERROR resync/tests/test_golden_path_planner.py::test_router_resets_transient_state
========================= 44 passed, 1 error in 1.33s =========================
