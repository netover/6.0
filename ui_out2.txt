============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\User\AppData\Local\Programs\Python\Python313\python.exe
cachedir: .pytest_cache
hypothesis profile 'default'
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: D:\Python\GITHUB\resync\6.0-new1
plugins: anyio-4.11.0, hypothesis-6.140.2, locust-2.41.2, asyncio-1.2.0, benchmark-5.1.0, cov-7.0.0, mock-3.15.1, timeout-2.4.0, xdist-3.8.0, respx-0.22.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

resync/tests/test_ui_smoke.py::test_admin_ui_renders_and_serves_css FAILED [100%]

================================== FAILURES ===================================
____________________ test_admin_ui_renders_and_serves_css _____________________

    def test_admin_ui_renders_and_serves_css() -> None:
        """Validate that templates render and CSS assets are reachable.
    
        This test has two layers:
        1) Always-run minimal UI check (no external deps) that renders admin.html
           and serves the bundled CSS from /static.
        2) If full runtime dependencies are available (e.g. SQLAlchemy), also
           instantiate the real app and verify the real /admin route.
        """
    
        # ------------------------------------------------------------------
        # Layer 1: Minimal render check (no database/redis required)
        # ------------------------------------------------------------------
        from fastapi import FastAPI
        from fastapi.responses import HTMLResponse
        from fastapi.staticfiles import StaticFiles
        from fastapi.templating import Jinja2Templates
    
        root = _root()
        templates = Jinja2Templates(directory=str(root / "templates"))
        app_min = FastAPI()
        app_min.mount("/static", StaticFiles(directory=str(root / "static")), name="static")
    
        @app_min.get("/admin", response_class=HTMLResponse)
        def admin_page(request: Request):
            return templates.TemplateResponse("admin.html", {"request": request})
    
        with TestClient(app_min) as client:
            admin = client.get("/admin")
            assert admin.status_code == 200
            assert "text/html" in admin.headers.get("content-type", "")
            assert client.get("/static/css/style-neumorphic.css").status_code == 200
            assert client.get("/static/css/admin-neumorphic.css").status_code == 200
    
        # ------------------------------------------------------------------
        # Layer 2: Real app check (only when deps are installed)
        # ------------------------------------------------------------------
        import pytest
    
        pytest.importorskip("sqlalchemy")
    
        from resync.app_factory import ApplicationFactory
    
        app = ApplicationFactory().create_application()
    
        # Override auth for smoke test
        from resync.api.routes.core.auth import verify_admin_credentials
    
        app.dependency_overrides[verify_admin_credentials] = lambda: {
            "username": "admin",
            "role": "admin",
            "id": "admin_id",
        }
    
        with TestClient(app) as client:
            r = client.get("/", follow_redirects=False)
            assert r.status_code in (301, 302, 307, 308)
            assert r.headers.get("location") == "/admin"
            admin = client.get("/admin")
>           assert admin.status_code == 200
E           assert 404 == 200
E            +  where 404 = <Response [404 Not Found]>.status_code

resync\tests\test_ui_smoke.py:154: AssertionError
---------------------------- Captured stdout call -----------------------------
{"event": "settings_validation_passed", "timestamp": "2026-02-21T12:57:56.916910+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"directory": "D:\\Python\\GITHUB\\resync\\6.0-new1\\resync\\templates", "event": "templates_configured", "timestamp": "2026-02-21T12:57:56.919457+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"positional_args": ["ModuleNotFoundError"], "event": "langfuse_disabled reason=%s", "timestamp": "2026-02-21T12:57:56.922180+00:00Z", "level": "WARNING", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"positional_args": ["ModuleNotFoundError"], "event": "langfuse_prompt_manager_disabled reason=%s", "timestamp": "2026-02-21T12:57:56.939041+00:00Z", "level": "WARNING", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"positional_args": ["ModuleNotFoundError"], "event": "langfuse_context_unavailable reason=%s", "timestamp": "2026-02-21T12:57:56.943773+00:00Z", "level": "WARNING", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"default_limit": "100/minute", "auth_limit": "***REDACTED***", "storage": "memory", "event": "Rate limiting enabled", "timestamp": "2026-02-21T12:57:56.978827+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"event": "jwt_library_loaded library=pyjwt version=2.10.1", "timestamp": "2026-02-21T12:57:57.213607+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"event": "Enhanced security middleware configured", "timestamp": "2026-02-21T12:57:57.230085+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"event": "Development security settings enabled", "timestamp": "2026-02-21T12:57:57.230260+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"enforce_https": false, "environment": "test", "event": "security_headers_configured", "timestamp": "2026-02-21T12:57:57.230368+00:00Z", "level": "INFO", "service_name": "Resync", "version": "6.2.0"}
{"event": "middleware_configured", "timestamp": "2026-02-21T12:57:57.230523+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"event": "Exception handlers registered successfully", "timestamp": "2026-02-21T12:57:57.373019+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"event": "exception_handlers_registered", "timestamp": "2026-02-21T12:57:57.373294+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"mode": "fastapi_depends", "event": "dependency_injection_configured", "timestamp": "2026-02-21T12:57:57.373459+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"directory": "D:\\Python\\GITHUB\\resync\\6.0-new1\\resync\\static", "event": "static_files_mounted", "timestamp": "2026-02-21T12:57:57.373897+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"event": "special_endpoints_registered", "timestamp": "2026-02-21T12:57:57.374616+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"environment": "test", "debug_mode": false, "event": "application_created", "timestamp": "2026-02-21T12:57:57.374802+00:00Z", "level": "INFO", "service_name": "Resync", "version": "6.2.0"}
{"event": "RuntimeMetricsCollector initialized", "timestamp": "2026-02-21T12:57:57.407091+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"event": "application_startup_initiated", "timestamp": "2026-02-21T12:57:57.484824+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
{"version": "6.2.0", "event": "teams_webhook_version_loaded", "timestamp": "2026-02-21T12:57:57.485262+00:00Z", "level": "INFO", "service_name": "Resync", "environment": "test"}
{"critical_services": null, "results": null, "strict": null, "event": "startup_health_failed", "timestamp": "2026-02-21T12:57:57.485509+00:00Z", "level": "WARNING", "service_name": "Resync", "environment": "test", "version": "6.2.0"}
[32m09:57:58[0m [34mresync.core.connection_manager[0m [1;30mINFO[0m   ConnectionManager initialized with pooling support.
[32m09:57:58[0m [34mresync.services.mock_tws_service[0m [1;30mWARNING[0m   [33mMock data file not found at D:\Python\GITHUB\resync\6.0-new1\mock_tws_data.json. Returning empty data.[0m
[32m09:57:58[0m [34mresync.services.mock_tws_service[0m [1;30mINFO[0m   MockTWSClient initialized. Using static mock data.
[32m09:57:58[0m [34mresync.core.wiring[0m [1;30mINFO[0m   {'mode': 'mock', 'event': 'tws_client_mode', 'timestamp': '2026-02-21T12:57:58.163668+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.agent_manager[0m [1;30mINFO[0m   {'native_agent': True, 'has_factory': True, 'correlation_id': "{'component': 'agent_manager', 'operation': 'init', 'global_correlation': 'core_boot_1771678678_f2b52579', 'environment': {'is_mock': False, 'mock_reason': None, 'boot_id': 'core_boot_1771678678_f2b52579', 'component_count': 0}}_ac566322", 'event': 'initializing_agent_manager', 'timestamp': '2026-02-21T12:57:58.163888+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.agent_manager[0m [1;30mINFO[0m   {'agents_count': 2, 'tools_count': 2, 'correlation_id': "{'component': 'agent_manager', 'operation': 'init', 'global_correlation': 'core_boot_1771678678_f2b52579', 'environment': {'is_mock': False, 'mock_reason': None, 'boot_id': 'core_boot_1771678678_f2b52579', 'component_count': 0}}_ac566322", 'event': 'agent_manager_initialized', 'timestamp': '2026-02-21T12:57:58.164130+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.skill_manager[0m [1;30mWARNING[0m   [33m{'path': 'resync\\skills', 'hint': 'Consider restricting permissions in production', 'event': 'skills_dir_world_writable', 'timestamp': '2026-02-21T12:57:58.165744+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.core.skill_manager[0m [1;30mINFO[0m   {'path': 'resync\\skills', 'count': 5, 'skills': ['analyzing-job-logs', 'analyzing-performance', 'checking-status', 'managing-jobs', 'monitoring-workstations'], 'event': 'skills_loaded', 'timestamp': '2026-02-21T12:57:58.167883+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.agent_router[0m [1;30mINFO[0m   {'modes': ['RoutingMode.RAG_ONLY', 'RoutingMode.AGENTIC', 'RoutingMode.DIAGNOSTIC'], 'skill_manager_enabled': True, 'event': 'hybrid_router_initialized', 'timestamp': '2026-02-21T12:57:58.170825+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.wiring[0m [1;30mWARNING[0m   [33m{'hint': 'Redis unavailable. Idempotent endpoints will return 503.', 'event': 'idempotency_manager_degraded_mode', 'timestamp': '2026-02-21T12:57:58.171080+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.services.llm_service[0m [1;30mINFO[0m   No LLM API key configured
[32m09:57:58[0m [34mresync.services.llm_service[0m [1;30mINFO[0m   LLM base URL: https://integrate.api.nvidia.com/v1
[32m09:57:58[0m [34mresync.services.llm_service[0m [1;30mINFO[0m   LLM service initialized with model: ollama/qwen2.5:3b
[32m09:57:58[0m [34mresync.core.resilience[0m [1;30mINFO[0m   {'name': 'llm', 'failure_threshold': 5, 'recovery_timeout': 60, 'event': 'Circuit breaker initialized', 'timestamp': '2026-02-21T12:57:58.366409+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.services.llm_service[0m [1;30mINFO[0m   LLM resilience configured: timeout_s=8.0, max_concurrency=8
[32m09:57:58[0m [34mresync.core.resilience[0m [1;30mINFO[0m   {'name': 'rag_service', 'failure_threshold': 5, 'recovery_timeout': 60, 'event': 'Circuit breaker initialized', 'timestamp': '2026-02-21T12:57:58.553649+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.services.rag_client[0m [1;30mINFO[0m   {'url': 'http://localhost:8003', 'max_retries': 3, 'max_concurrency': 10, 'event': 'rag_client_initialized', 'timestamp': '2026-02-21T12:57:58.553985+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.wiring[0m [1;30mINFO[0m   {'singletons': ['connection_manager', 'knowledge_graph', 'tws_client', 'agent_manager', 'hybrid_router', 'idempotency_manager', 'llm_service', 'file_ingestor', 'a2a_handler', 'skill_manager'], 'tws_mode': 'mock', 'event': 'domain_singletons_initialized', 'timestamp': '2026-02-21T12:57:58.554245+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.tws_monitor[0m [1;30mINFO[0m   {'event': 'tws_monitor_initialized', 'timestamp': '2026-02-21T12:57:58.554469+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.tws_monitor[0m [1;30mINFO[0m   {'event': 'tws_monitoring_started', 'timestamp': '2026-02-21T12:57:58.554623+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.cache.async_cache[0m [1;30mINFO[0m   AsyncTTLCache initialized
[32m09:57:58[0m [34mresync.core.cache.cache_hierarchy[0m [1;30mINFO[0m   CacheHierarchy initialized: L1_max_size=5000, L2_ttl=600s, encryption=False, key_prefix=cache:
[32m09:57:58[0m [34mresync.lifespan[0m [1;30mINFO[0m   {'event': 'core_services_initialized', 'timestamp': '2026-02-21T12:57:58.554931+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.monitoring_integration[0m [1;30mINFO[0m   {'event': 'initializing_proactive_monitoring', 'timestamp': '2026-02-21T12:57:58.555881+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.monitoring_integration[0m [1;30mERROR[0m   [31m{'error': "'State' object has no attribute 'tws_client'", 'event': 'proactive_monitoring_initialization_failed', 'timestamp': '2026-02-21T12:57:58.557115+00:00Z', 'level': 'ERROR', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.core.unified_config[0m [1;30mINFO[0m   {'event': 'UnifiedConfigManager initialized', 'timestamp': '2026-02-21T12:57:58.562388+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.unified_config[0m [1;30mWARNING[0m   [33m{'positional_args': (WindowsPath('D:/Python/GITHUB/resync/6.0-new1/config/graphrag.toml'),), 'event': 'Config file not found: %s', 'timestamp': '2026-02-21T12:57:58.562662+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.core.unified_config[0m [1;30mWARNING[0m   [33m{'positional_args': (WindowsPath('D:/Python/GITHUB/resync/6.0-new1/config/ai.toml'),), 'event': 'Config file not found: %s', 'timestamp': '2026-02-21T12:57:58.562886+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.core.unified_config[0m [1;30mWARNING[0m   [33m{'positional_args': (WindowsPath('D:/Python/GITHUB/resync/6.0-new1/config/monitoring.toml'),), 'event': 'Config file not found: %s', 'timestamp': '2026-02-21T12:57:58.563142+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.core.unified_config[0m [1;30mWARNING[0m   [33m{'positional_args': (WindowsPath('D:/Python/GITHUB/resync/6.0-new1/config/system.toml'),), 'event': 'Config file not found: %s', 'timestamp': '2026-02-21T12:57:58.563372+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.core.unified_config[0m [1;30mWARNING[0m   [33m{'positional_args': (WindowsPath('D:/Python/GITHUB/resync/6.0-new1/config/llm.toml'),), 'event': 'Config file not found: %s', 'timestamp': '2026-02-21T12:57:58.563542+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.core.unified_config[0m [1;30mWARNING[0m   [33m{'event': 'Watchdog not installed. Hot reload unavailable.', 'timestamp': '2026-02-21T12:57:58.563674+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.core.unified_config[0m [1;30mINFO[0m   {'event': 'Configuration system initialized with hot reload', 'timestamp': '2026-02-21T12:57:58.563804+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.lifespan[0m [1;30mINFO[0m   {'event': 'application_startup_completed', 'timestamp': '2026-02-21T12:57:58.563988+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.api.exception_handlers[0m [1;30mWARNING[0m   [33m{'status_code': 404, 'correlation_id': '1fe0a333-1ca4-4429-819d-f2ced0f63b9d', 'path': '/admin', 'method': 'GET', 'event': 'HTTP exception: Not Found', 'request_id': '410ace1c-0182-4a33-9b02-3da2c7aa37b2', 'trace_id': '1fe0a3331ca44429819df2ced0f63b9d', 'timestamp': '2026-02-21T12:57:58.567919+00:00Z', 'level': 'WARNING', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.api.exception_handlers[0m [1;30mERROR[0m   [31m{'error_code': 'RESOURCE_NOT_FOUND', 'status_code': 404, 'correlation_id': '1fe0a333-1ca4-4429-819d-f2ced0f63b9d', 'path': '/admin', 'method': 'GET', 'event': 'Application exception: Not Found', 'request_id': '410ace1c-0182-4a33-9b02-3da2c7aa37b2', 'trace_id': '1fe0a3331ca44429819df2ced0f63b9d', 'timestamp': '2026-02-21T12:57:58.568257+00:00Z', 'level': 'ERROR', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}[0m
[32m09:57:58[0m [34mresync.lifespan[0m [1;30mINFO[0m   {'event': 'application_shutdown_initiated', 'timestamp': '2026-02-21T12:57:58.569476+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.task_tracker[0m [1;30mINFO[0m   Cancelling 1 background tasks...
[32m09:57:58[0m [34mresync.core.task_tracker[0m [1;30mINFO[0m   Background tasks shutdown complete
[32m09:57:58[0m [34mresync.lifespan[0m [1;30mINFO[0m   {'event': 'background_tasks_cancelled', 'timestamp': '2026-02-21T12:57:58.570129+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.wiring[0m [1;30mINFO[0m   {'event': 'starting_graceful_shutdown', 'timestamp': '2026-02-21T12:57:58.570316+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.file_ingestor[0m [1;30mINFO[0m   file_ingestor_shutdown_successfully
[32m09:57:58[0m [34mresync.core.wiring[0m [1;30mINFO[0m   {'event': 'rag_client_closed', 'timestamp': '2026-02-21T12:57:58.571174+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.services.mock_tws_service[0m [1;30mINFO[0m   MockTWSClient closed.
[32m09:57:58[0m [34mresync.core.wiring[0m [1;30mINFO[0m   {'event': 'redis_client_closed', 'timestamp': '2026-02-21T12:57:58.571386+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.wiring[0m [1;30mINFO[0m   {'event': 'domain_singletons_shutdown_completed', 'timestamp': '2026-02-21T12:57:58.571503+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.lifespan[0m [1;30mINFO[0m   {'event': 'domain_singletons_shutdown', 'timestamp': '2026-02-21T12:57:58.571660+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.core.tws_monitor[0m [1;30mINFO[0m   {'event': 'tws_monitoring_stopped', 'timestamp': '2026-02-21T12:57:58.571813+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.lifespan[0m [1;30mINFO[0m   {'event': 'tws_monitor_shutdown', 'timestamp': '2026-02-21T12:57:58.571932+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.lifespan[0m [1;30mINFO[0m   {'event': 'health_service_shutdown', 'timestamp': '2026-02-21T12:57:58.572073+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
[32m09:57:58[0m [34mresync.lifespan[0m [1;30mINFO[0m   {'event': 'application_shutdown_completed', 'timestamp': '2026-02-21T12:57:58.572221+00:00Z', 'level': 'INFO', 'service_name': 'Resync', 'environment': 'test', 'version': '6.2.0'}
============================== warnings summary ===============================
resync/tests/test_ui_smoke.py::test_admin_ui_renders_and_serves_css
  C:\Users\User\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\templating.py:162: DeprecationWarning: The `name` is not the first parameter anymore. The first parameter should be the `Request` instance.
  Replace `TemplateResponse(name, {"request": request})` by `TemplateResponse(request, name)`.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED resync/tests/test_ui_smoke.py::test_admin_ui_renders_and_serves_css - assert 404 == 200
 +  where 404 = <Response [404 Not Found]>.status_code
======================== 1 failed, 1 warning in 6.75s =========================
